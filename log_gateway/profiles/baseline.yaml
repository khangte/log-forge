# -----------------------------------------------------------------------------
# 파일명 : log_gateway/profiles/baseline.yaml
# 목적   : log_gateway 시뮬레이터의 기본 부하 프로파일(믹스/에러율/시간대 가중치) 정의
# 사용   : generator가 load_profile()을 통해 읽어와 로그 생성에 활용
# 설명   :
#   - rps/mix/error_rate/bursts/time_weights/weight_mode/env 필드를 지원
#   - base rps × time_weights multiplier → bursts 적용 순서로 최종 RPS를 결정
#   - burst 필드 제거(고정 부하 테스트 목적)
# -----------------------------------------------------------------------------

env: "dev"                # 적용 대상 환경

rps: 10000                # 기본 초당 10k(1만 건)

mix:                      # 서비스별 트래픽 비중(합계 1.0)
  auth: 0.25              # 인증 20%
  order: 0.25             # 주문 30%
  payment: 0.25           # 결제 30%
  notify: 0.25            # 알림 20%

error_rate:               # 서비스별 오류율
  auth: 0.001             # 인증 오류율 0.1%
  order: 0.002            # 주문 오류율 0.2%
  payment: 0.003          # 결제 오류율 0.3%
  notify: 0.0005          # 알림 오류율 0.05%

# weight_mode: "uniform"    # 가중치 배열에서 균등 확률로 선택
# time_weights:   # 시간대별 가중치 범위(베이스 RPS × weight 중 임의 선택)
#   - { range: "0-5",   weight: [0.25, 0.45] }  # 새벽 : 저부하
#   - { range: "6-11",  weight: [0.35, 0.60] }  # 오전 : 점진 상승
#   - { range: "12-13", weight: [0.30, 0.50] }  # 점심 : 완만한 저부하
#   - { range: "14-18", weight: [0.45, 0.80] }  # 오후 : 정상 범위
#   - { range: "19-23", weight: [0.70, 1.00] }  # 야간 : 최대 1.0까지 부하 가중
