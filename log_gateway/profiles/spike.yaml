# -----------------------------------------------------------------------------
# 파일명 : log_gateway/profiles/spike.yaml
# 목적   : log_gateway 시뮬레이터의 스파이크/고부하 프로파일 정의(고 RPS/높은 에러율)
# 사용   : baseline 대비 공격적인 부하를 재현하고 싶을 때 load_profile() 으로 로드
# 설명   :
#   - duration_sec/rps/mix/error_rate/bursts/time_weights/weight_mode/env 제공
#   - baseline.yaml 과 필드 스펙 동일, 값만 더 높은 부하/에러율로 설정
# -----------------------------------------------------------------------------

duration_sec: 180          # 3분
rps: 1200                  # 기본 RPS를 높게

mix:
  auth: 0.15
  order: 0.45
  payment: 0.30
  notify: 0.10

error_rate:
  auth: 0.02
  order: 0.03
  payment: 0.05
  notify: 0.01

bursts:
  - { at_sec: 30,  rps: 2200 }
  - { at_sec: 90,  rps: 800 }
  - { at_sec: 150, rps: 1500 }

time_weights:
  - { range: "0-7",   weight: [0.30, 0.50] }
  - { range: "8-11",  weight: [0.20, 0.40] }
  - { range: "12-13", weight: [0.10, 0.20] }
  - { range: "14-18", weight: [0.20, 0.40] }
  - { range: "19-23", weight: [0.25, 0.45] }

weight_mode: "uniform"
env: "dev"
